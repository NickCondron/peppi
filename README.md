# Peppi

Peppi is a Rust parser for [.slp](https://github.com/project-slippi/slippi-wiki/blob/master/SPEC.md) game replay files for [Super Smash Brothers Melee](https://en.wikipedia.org/wiki/Super_Smash_Bros._Melee) for the Nintendo GameCube. These replays are generated by Jas Laferriere's [Slippi](https://github.com/JLaferri/project-slippi) recording code, which runs on a Wii or the [Dolphin](https://dolphin-emu.org/) emulator.

Peppi is fairly full-featured already, but still under active development. **APIs are still subject to breaking change** until version 1.0 is released.

## Installation

In your `Cargo.toml`:

```toml
[dependencies]
peppi = { git = "https://github.com/hohav/peppi.git", branch = "arrow-in-memory" }
```

## Usage

```rust
use std::{fs, io};

fn main() {
    let mut r = io::BufReader::new(
        fs::File::open("game.slp").unwrap());
    let game = peppi::game(&mut r, None).unwrap();

    // Print some general info about the game
    println!("{:?}", game);

    // Iterate over each frame and print percents for each player
    for i in 0 .. game.frames.id.len() {
        println!("Frame {}", game.frames.id.get(i).unwrap());
        for (idx, p) in game.frames.port.iter().enumerate() {
            println!("{}: {}%",
                game.start.players[idx].port,
                p.leader.post.percent.get(i).unwrap()
            );
        }
    }
}
```

## Inspector

âš  The `slp` tool has moved to the [peppi-slp](https://github.com/hohav/peppi-slp) crate.
